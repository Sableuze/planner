(function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);m&&m(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-9b70dc54":"8912179c","chunk-c040ef5a":"6c66b35c"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-9b70dc54":1,"chunk-c040ef5a":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-9b70dc54":"c09096da","chunk-c040ef5a":"57c07634"}[t]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],m.parentNode.removeChild(m),n(s)},m.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){r[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(m);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[t]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/dist/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var m=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"16a3":function(t,e,n){"use strict";n("cd8c")},2963:function(t,e,n){"use strict";n("3217")},3027:function(t,e,n){},3217:function(t,e,n){},"45a6":function(t,e,n){},"553c":function(t,e,n){"use strict";n("45a6")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Navbar"),n("div",{staticClass:"container"},[n("router-view")],1)],1)},i=[],s=(n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"danger"}},[n("router-link",{staticClass:"an-move-left",staticStyle:{cursor:"pointer"},attrs:{tag:"b-navbar-brand",to:{name:"home"}}},[t._v("Home")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{staticClass:"an-move-right",attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto align-items-center"},[n("router-link",{attrs:{tag:"b-nav-item",to:{name:"tasks"}}},[t._v("Tasks")]),n("router-link",{attrs:{tag:"b-nav-item",to:{name:"addTask"}}},[t._v("Add Task")]),n("b-nav-item",[t.isRegOrLog?n("b-button",{attrs:{variant:"success"},on:{click:function(e){return e.preventDefault(),t.onLogOut.apply(null,arguments)}}},[t._v("Log Out")]):t._e()],1)],1)],1)],1)],1)}),o=[],c=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),u=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t._v(" Hello. "),n("br"),t._v(" It is your own diary "),n("br"),t._v(" Enjoy it ")])}],d=n("cffa"),m={name:"Home",components:{},computed:{getTaskList:function(){return this.$store.state.taskList}},mounted:function(){d["a"].fromTo(".hello",{fontSize:6},{fontSize:60,lineHeight:1.5,duration:1})},methods:{}},f=m,p=(n("553c"),n("2877")),g=Object(p["a"])(f,u,l,!1,null,"53c2c4e0",null),h=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"py-5 w-75",attrs:{fluid:""}},[n("h1",{staticClass:"mb-2"},[t._v("Add a new task")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("b-form-row",{staticClass:"flex flex-column gap"},[n("b-row",{staticClass:"my-2 flex-column",attrs:{"no-gutters":""}},[n("label",{attrs:{for:"title"}},[t._v("Title")]),n("b-form-input",{attrs:{placeholder:"Complete the project...",id:"title",type:"text",size:"lg",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("b-row",{staticClass:"my-2 flex-column",attrs:{"no-gutters":""}},[n("label",{attrs:{for:"tags"}},[t._v("Enter new tags separated by space")]),n("b-form-tags",{attrs:{"input-id":"tags","input-attrs":{"aria-describedby":"tags-remove-on-delete-help"},"tag-variant":"warning",size:"lg",separator:" ",placeholder:"Enter new tags separated by space","remove-on-delete":""},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),n("b-row",{staticClass:"my-2 flex-column",attrs:{"no-gutters":""}},[n("b-form-textarea",{staticClass:"mb-1",attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},on:{keydown:function(e){return t.onKeyDown()}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),n("div",{staticClass:"align-self-end"},[t._v(" "+t._s(this.description.length+"/"+this.maxNumberOfWords)+" ")])],1),n("b-row",{staticClass:"my-2 flex-column",attrs:{"no-gutters":""}},[n("label",{attrs:{for:"date"}},[t._v("Deadline")]),n("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"date","selected-variant":"warning","today-variant":"danger",state:!!t.date,"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},min:t.dateToday},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),n("button",{staticClass:"px-5 py-2 btn btn-warning align-self-center",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v(" Add the task ")])],1)],1)])},v=[],k=n("1da1"),y=(n("96cf"),n("a4d3"),n("e01a"),{name:"AddTask",data:function(){return{title:"",description:"",tags:null,date:null,maxNumberOfWords:2048}},computed:{isSubmitting:function(){return this.$store.state.isSubmitting},dateToday:function(){return this.$store.getters.dateToday()}},methods:{onKeyDown:function(){this.description.length>=this.maxNumberOfWords&&(this.description=this.description.substr(0,this.maxNumberOfWords))},onSubmit:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("addTask",{id:Date.now(),title:t.title,status:"active",tags:t.tags,description:t.description,date:t.date});case 2:t.$router.push({name:"tasks"});case 3:case"end":return e.stop()}}),e)})))()}}}),w=y,_=(n("997e"),Object(p["a"])(w,b,v,!1,null,null,null)),S=_.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.choice?t._e():n("div",{staticClass:"container"},[t._m(0),n("div",{staticClass:"buttons"},[n("b-button",{attrs:{size:"lg",variant:"outline-danger"},on:{click:t.register}},[t._v("Register")]),n("b-button",{attrs:{size:"lg",variant:"outline-danger"}},[t._v(" Sign In")])],1)]),n("button",{staticClass:"btn btn-primary",on:{click:function(e){t.show=!t.show}}},[t._v("SHOWW")]),n("transition",{attrs:{name:"fade"}},[t.show?n("p",[t._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum dolores ea, enim facere fuga fugiat impedit magnam, mollitia omnis perspiciatis quidem, quis sit veniam! Dicta hic nulla perferendis quaerat voluptatibus. ")]):t._e()]),n("transition",{attrs:{name:"fade"}},[t.isRegister?n("Register"):t._e()],1),t.isRegister?n("div",{staticClass:"h1"}):t._e()],1)},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-title"},[t._v(" You have to "),n("u",[t._v(" register ")]),t._v(" or "),n("u",[t._v(" log in ")])])}],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"py-5 w-75",attrs:{fluid:""}},[n("h1",[t._v("Sing Up")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("b-container",{attrs:{fluid:""}},t._l(t.inputs,(function(e){return n("b-row",{key:e,staticClass:"my-2 flex-column"},[n("label",{attrs:{for:e.id}},[t._v(t._s(e.label))]),n("b-form-input",{attrs:{id:e.id,"v-model":e.id,placeholder:e.placeholder,type:e.type,required:e.required}})],1)})),1),n("b-button",{staticClass:"mt-3",attrs:{type:"submit",size:"lg",variant:"outline-danger",disabled:t.isSubmitting}},[t._v(" Register ")])],1)])},C=[],I={name:"Register",data:function(){return{username:"",email:"",password:"",inputs:[{id:"username",type:"text",placeholder:"Sableuze...",label:"Username",class:"validate",required:!0},{id:"password",type:"password",placeholder:"",label:"Password",class:"validate",required:!0},{id:"email",type:"email",placeholder:"example@mail.ru",label:"Email",class:"validate",required:!0}]}},computed:{isSubmitting:function(){return this.$store.state.auth.isSubmitting}},methods:{onSubmit:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("register",{username:t.username,email:t.email,password:t.password});case 2:W.push({name:"Home"});case 3:case"end":return e.stop()}}),e)})))()},checkIsValid:function(t){this.isValid=t}}},L=I,E=Object(p["a"])(L,T,C,!1,null,"1eef24dd",null),j=E.exports,D={name:"AuthPage",data:function(){return{choice:"",show:!1}},components:{Register:j},computed:{isRegister:function(){return"register"==this.choice},isLogin:function(){return"login"==this.choice}},methods:{register:function(){this.choice="register"}}},N=D,$=(n("2963"),Object(p["a"])(N,x,O,!1,null,"7b2b456e",null)),P=$.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Nothing Found")])},q=[],A={name:"404"},J=A,z=Object(p["a"])(J,R,q,!1,null,"5bb6003d",null),H=z.exports;a["default"].use(c["a"]);var U=[{path:"/",name:"home",component:h},{path:"/auth",name:"auth",component:P},{path:"/add",name:"addTask",component:S},{path:"/task/:id",name:"task",component:function(){return n.e("chunk-c040ef5a").then(n.bind(null,"1d21"))}},{path:"/tasks",name:"tasks",component:function(){return n.e("chunk-9b70dc54").then(n.bind(null,"d3d7"))}},{path:"*",name:"notFound",component:H}],F=new c["a"]({mode:"history",routes:U}),W=F,M={name:"Navbar",computed:{isRegOrLog:function(){switch(this.$route.name){case"register":return!1;case"login":return!1;case"auth":return!1}return!0}},methods:{onLogOut:function(){this.$store.dispatch("logOut").then((function(){return W.go({name:"auth"})})).catch((function(){}))}},mounted:function(){d["a"].fromTo(".an-move-left",{x:"-100",opacity:.4},{x:0,opacity:1,duration:1}),d["a"].fromTo(".an-move-right",{yPercent:-50,opacity:.4},{yPercent:0,opacity:1,duration:1})}},B=M,K=(n("16a3"),Object(p["a"])(B,s,o,!1,null,null,null)),V=K.exports,Y={created:function(){this.checkIsLoggedIn()},components:{Navbar:V},methods:{checkIsLoggedIn:function(){this.$store.state.auth.isLoggedIn||W.replace({name:"auth"}).catch((function(){}))}},watch:{"$route.path":function(){this.checkIsLoggedIn(),window.scrollTo(0,0)}}},G=Y,Q=(n("034f"),Object(p["a"])(G,r,i,!1,null,null,null)),X=Q.exports,Z=n("2f62"),tt=function(t){return new Promise((function(e){setTimeout((function(){return e()}),t)}))},et={isSubmitting:!1,isLoggedIn:JSON.parse(localStorage.getItem("isLoggedIn"))||!1,currentUser:JSON.parse(localStorage.getItem("currentIser"))||!1,validationErrors:null},nt={registerStart:function(t){t.isSubmitting=!0,t.validationErrors=null},registerSuccess:function(t,e){t.isSubmitting=!1,localStorage.setItem("isLoggedIn",!0),t.isLoggedIn=!0,localStorage.setItem("currentUser",JSON.stringify(e)),t.currentUser=e},registerFailure:function(t,e){t.isSubmitting=!1,t.validationErrors=e},logOut:function(t){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),t.isLoggedIn=!1,t.user=null}},at={register:function(t,e){return new Promise((function(n){t.commit("registerStart"),tt(3e3).then((function(){return n(e)}))})).then(function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("registerSuccess",n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.commit("registerFailure",e.response.data.errors)}))},logOut:function(t){return new Promise((function(e){t.commit("logOut"),e()}))}},rt={state:et,actions:at,mutations:nt},it=n("5530"),st=(n("d81d"),n("99af"),n("c740"),n("4de4"),n("7db0"),{tasks:JSON.parse(localStorage.getItem("tasks")).map(lt)||[]}),ot={addTask:function(t,e){t.tasks.push(e),localStorage.setItem("tasks",JSON.stringify(t.tasks))},updateTask:function(t,e){var n=e.title,a=e.id,r=e.description,i=e.date,s=t.tasks.concat();console.log(n,a,r,i);var o=s.findIndex((function(t){return t.id==a})),c=s[o],u=new Date(i).toLocaleDateString()>=(new Date).toLocaleDateString()?"active":"outdated";s[o]=Object(it["a"])(Object(it["a"])({},c),{},{title:n,date:i,description:r,status:u}),t.tasks=s,localStorage.setItem("tasks",JSON.stringify(t.tasks))},completeTask:function(t,e){var n=t.tasks.concat(),a=n.findIndex((function(t){return t.id==e}));n[a].status="completed",t.tasks=n,localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteTask:function(t,e){var n=t.tasks.concat(),a=n.findIndex((function(t){return t.id==e}));delete n[a],t.tasks=n.filter((function(t){return t})),localStorage.setItem("tasks",JSON.stringify(t.tasks))}},ct={addTask:function(t,e){t.commit("addTask",e)},updateTask:function(t,e){t.commit("updateTask",e)},deleteTask:function(t,e){t.commit("deleteTask",e)},completeTask:function(t,e){t.commit("completeTask",e)}},ut={getTaskById:function(t){return function(e){return t.tasks.find((function(t){return t.id==e}))}},dateToday:function(){return function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}}};function lt(t){if(t)return"active"==t.status&&(t.status=new Date(t.date).toLocaleDateString()>=(new Date).toLocaleDateString()?"active":"outdated"),t}var dt={state:st,actions:ct,mutations:ot,getters:ut};a["default"].use(Z["a"]);var mt=new Z["a"].Store({state:{},mutations:{},actions:{},modules:{auth:rt,taskList:dt}}),ft=n("5f5b"),pt=n("b1e0");n("f9e3"),n("2dd8");a["default"].config.productionTip=!1,a["default"].use(ft["a"]),a["default"].use(pt["a"]),new a["default"]({router:W,store:mt,gsap:d["b"],render:function(t){return t(X)}}).$mount("#app")},"85ec":function(t,e,n){},"997e":function(t,e,n){"use strict";n("3027")},cd8c:function(t,e,n){}});
//# sourceMappingURL=app.cc3181c9.js.map